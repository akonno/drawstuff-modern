# drawstuff-modern

## Overview

drawstuff-modern is a lightweight, drawstuff-compatible 3D visualization library
built on modern OpenGL (3.3 core profile).

It is designed for efficient, GPU-driven rendering of large numbers of rigid bodies,
primarily for physics simulations and research applications where traditional
drawstuff becomes a performance bottleneck.

## Key Features

- OpenGL 3.3 core profile (no fixed-function pipeline)
- drawstuff-compatible API for easy migration from ODE-based code
- Instanced rendering for efficient visualization of large numbers of objects
- Minimal and explicit API design, suitable for debugging and research use
- Designed for physics simulations, not for general-purpose game development

## Intended Use

This library is intended for:

- Physics simulation research (rigid-body dynamics, contact, friction, etc.)
- Visualization of large-scale simulations (e.g., thousands to hundreds of thousands of objects)
- Educational use in computational mechanics and physics
- Users who want simple, controllable visualization without relying on full game engines

## Current Limitations

The following limitations are known in the current implementation:

- **Platform support** is currently limited to Linux systems or Windows environments
  using WSL with an X11-based display server.
  Native Windows and macOS platforms are not supported at this time.

- **Convex shapes** are supported in the core-based rendering pipeline; however,
  they are currently rendered using a legacy per-triangle drawing approach and
  are not yet optimized with batched or instanced rendering.

These limitations are primarily related to performance optimization and do not
affect correctness or API compatibility.

## Non-Goals

drawstuff-modern is **not** intended to be:

- A general-purpose game engine
- A replacement for Unity, Unreal Engine, or similar frameworks
- A scene-graph–based rendering engine
- A fully featured graphics abstraction layer

The focus is on simplicity, performance, and transparency rather than completeness.

## Relationship to ODE / drawstuff

This project is a modern reimplementation inspired by the drawstuff library
distributed with the Open Dynamics Engine (ODE), originally developed by
Russell L. Smith.

Open Dynamics Engine (ODE): https://www.ode.org/

While the internal implementation has been completely redesigned using
modern OpenGL techniques, the API compatibility is intentionally preserved
to allow existing drawstuff-based simulation code to be reused with minimal changes.

## Design Notes

For implementation details and design decisions, including the rationale
for using OpenGL 3.3 core and instanced rendering, see
[docs/design-notes.md](docs/design-notes.md).

## Build and Run

### Build

## Build and Run

This library currently targets Linux or WSL environments with an X11 display server
and OpenGL 3.3 support.

```
mkdir build
cd build
cmake --fresh ..
make
```

### Run demos
```
./demo/demo_minimal
./demo/demo_spheres_100k
```

## License

drawstuff-modern is released under the BSD 3-Clause License.

See the [LICENSE](LICENSE) file for details.

## Acknowledgements

Texture files included in this repository are derived from the drawstuff
library distributed with the Open Dynamics Engine (ODE).

Copyright (c) 2001–2007 Russell L. Smith.
Redistributed under the terms of the BSD 3-Clause License.

This project includes OpenGL loader source code generated by glad
(https://glad.dav1d.de/).

## Support

If you find drawstuff-modern useful in your research, teaching, or learning,
you can support its development via Ko-fi:

https://ko-fi.com/akonno
